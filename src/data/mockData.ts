import type {
  Mission,
  Job,
  MeshNode,
  TradePosition,
  EquityPoint,
  Conversation,
  Project,
  Service,
  SystemMetrics,
  FileNode,
  Notification,
  LogEntry,
  ModelInfo,
  SystemStatus,
  ServiceNode,
} from "../types";

export const mockMissions: Mission[] = [
  {
    id: "m1",
    name: "Core API Integration",
    status: "running",
    createdAt: "2025-12-11T08:30:00Z",
    lastUpdate: "2025-12-11T14:22:00Z",
    priority: "high",
    progress: 67,
    jobsTotal: 12,
    jobsCompleted: 8,
  },
  {
    id: "m2",
    name: "Mesh Topology Rebuild",
    status: "running",
    createdAt: "2025-12-11T09:15:00Z",
    lastUpdate: "2025-12-11T14:18:00Z",
    priority: "normal",
    progress: 42,
    jobsTotal: 8,
    jobsCompleted: 3,
  },
  {
    id: "m3",
    name: "Trader Strategy Backtest",
    status: "completed",
    createdAt: "2025-12-10T16:00:00Z",
    lastUpdate: "2025-12-11T02:45:00Z",
    priority: "normal",
    progress: 100,
    jobsTotal: 15,
    jobsCompleted: 15,
  },
  {
    id: "m4",
    name: "Relay Queue Optimization",
    status: "planned",
    createdAt: "2025-12-11T12:00:00Z",
    lastUpdate: "2025-12-11T12:00:00Z",
    priority: "low",
    progress: 0,
    jobsTotal: 6,
    jobsCompleted: 0,
  },
  {
    id: "m5",
    name: "GGUF Model Integration",
    status: "failed",
    createdAt: "2025-12-11T07:00:00Z",
    lastUpdate: "2025-12-11T11:30:00Z",
    priority: "high",
    progress: 28,
    jobsTotal: 10,
    jobsCompleted: 2,
  },
];

export const mockJobs: Job[] = [
  {
    id: "j1",
    missionId: "m1",
    agent: "Core-Builder",
    type: "build",
    status: "working",
    startedAt: "2025-12-11T14:10:00Z",
  },
  {
    id: "j2",
    missionId: "m1",
    agent: "API-Validator",
    type: "analysis",
    status: "done",
    startedAt: "2025-12-11T13:45:00Z",
    finishedAt: "2025-12-11T14:05:00Z",
    duration: 1200,
  },
  {
    id: "j3",
    missionId: "m2",
    agent: "Mesh-Scanner",
    type: "mesh",
    status: "working",
    startedAt: "2025-12-11T14:15:00Z",
  },
  {
    id: "j4",
    missionId: "m2",
    agent: "Port-Mapper",
    type: "analysis",
    status: "queued",
  },
  {
    id: "j5",
    missionId: "m3",
    agent: "Backtest-Engine",
    type: "trading",
    status: "done",
    startedAt: "2025-12-11T00:00:00Z",
    finishedAt: "2025-12-11T02:45:00Z",
    duration: 9900,
  },
  {
    id: "j6",
    missionId: "m5",
    agent: "GGUF-Loader",
    type: "build",
    status: "error",
    startedAt: "2025-12-11T11:00:00Z",
    finishedAt: "2025-12-11T11:30:00Z",
    duration: 1800,
    error: "Model file not found: llama-3.2-1b.gguf",
  },
  {
    id: "j7",
    missionId: "m1",
    agent: "Schema-Gen",
    type: "build",
    status: "done",
    startedAt: "2025-12-11T12:30:00Z",
    finishedAt: "2025-12-11T13:15:00Z",
    duration: 2700,
  },
  {
    id: "j8",
    missionId: "m1",
    agent: "Route-Builder",
    type: "build",
    status: "queued",
  },
];

export const mockNodes: MeshNode[] = [
  {
    id: "n1",
    name: "sheratan-core",
    role: "core",
    status: "online",
    ip: "127.0.0.1",
    port: 9001,
    latency: 2,
    score: 98,
    lastSeen: "2025-12-11T14:22:00Z",
    endpoints: ["/api/v1", "/mesh/discover", "/health"],
  },
  {
    id: "n2",
    name: "relay-alpha",
    role: "relay",
    status: "online",
    ip: "192.168.1.42",
    port: 9002,
    latency: 15,
    score: 87,
    lastSeen: "2025-12-11T14:21:00Z",
    endpoints: ["/relay/in", "/relay/out"],
  },
  {
    id: "n3",
    name: "worker-01",
    role: "worker",
    status: "online",
    ip: "192.168.1.101",
    port: 9003,
    latency: 8,
    score: 92,
    lastSeen: "2025-12-11T14:22:00Z",
    endpoints: ["/job/queue", "/job/execute"],
  },
  {
    id: "n4",
    name: "trader-engine",
    role: "trader",
    status: "degraded",
    ip: "192.168.1.55",
    port: 8080,
    latency: 45,
    score: 64,
    lastSeen: "2025-12-11T14:18:00Z",
    endpoints: ["/trade/execute", "/trade/status"],
  },
  {
    id: "n5",
    name: "worker-02",
    role: "worker",
    status: "offline",
    ip: "192.168.1.102",
    port: 9004,
    latency: 999,
    score: 0,
    lastSeen: "2025-12-11T13:45:00Z",
    endpoints: [],
  },
];

export const mockPositions: TradePosition[] = [
  {
    id: "p1",
    symbol: "BTC/USD",
    side: "long",
    entry: 42150.0,
    current: 42580.0,
    size: 0.5,
    pnl: 215.0,
    pnlPercent: 1.02,
  },
  {
    id: "p2",
    symbol: "ETH/USD",
    side: "short",
    entry: 2250.0,
    current: 2230.0,
    size: 2.0,
    pnl: 40.0,
    pnlPercent: 0.89,
  },
  {
    id: "p3",
    symbol: "SOL/USD",
    side: "long",
    entry: 98.5,
    current: 96.2,
    size: 10.0,
    pnl: -23.0,
    pnlPercent: -2.33,
  },
];

export const mockEquity: EquityPoint[] = Array.from({ length: 30 }, (_, i) => ({
  timestamp: new Date(Date.now() - (29 - i) * 86400000).toISOString(),
  value: 10000 + Math.random() * 2000 - 500 + i * 50,
}));

export const mockConversations: Conversation[] = [
  {
    id: "c1",
    name: "Core API Design Session",
    projectId: "sheratan-core",
    lastMessage: "Let's add the health endpoint to the router...",
    updatedAt: "2025-12-11T14:15:00Z",
    messageCount: 47,
  },
  {
    id: "c2",
    name: "Mesh Protocol Discussion",
    lastMessage: "UDP vs TCP for discovery?",
    updatedAt: "2025-12-11T12:30:00Z",
    messageCount: 23,
  },
  {
    id: "c3",
    name: "Trading Strategy Refinement",
    projectId: "trader-engine",
    lastMessage: "CRV of 2.5 seems optimal for this timeframe",
    updatedAt: "2025-12-11T09:45:00Z",
    messageCount: 89,
  },
];

export const mockProjects: Project[] = [
  {
    id: "sheratan-core",
    name: "Sheratan Core",
    path: "/Users/dev/sheratan/core",
    status: "active",
    lastAccess: "2025-12-11T14:20:00Z",
    fileCount: 127,
  },
  {
    id: "trader-engine",
    name: "Trader Engine",
    path: "/Users/dev/sheratan/trader",
    status: "active",
    lastAccess: "2025-12-11T13:45:00Z",
    fileCount: 64,
  },
  {
    id: "mesh-relay",
    name: "Mesh Relay",
    path: "/Users/dev/sheratan/relay",
    status: "active",
    lastAccess: "2025-12-11T11:30:00Z",
    fileCount: 42,
  },
  {
    id: "gguf-worker",
    name: "GGUF Worker",
    path: "/Users/dev/sheratan/workers/gguf",
    status: "inactive",
    lastAccess: "2025-12-10T16:00:00Z",
    fileCount: 18,
  },
];

export const mockFileTree: FileNode[] = [
  {
    name: "src",
    path: "/src",
    type: "directory",
    children: [
      {
        name: "api",
        path: "/src/api",
        type: "directory",
        children: [
          { name: "router.ts", path: "/src/api/router.ts", type: "file" },
          { name: "handlers.ts", path: "/src/api/handlers.ts", type: "file" },
        ],
      },
      {
        name: "mesh",
        path: "/src/mesh",
        type: "directory",
        children: [
          { name: "discovery.ts", path: "/src/mesh/discovery.ts", type: "file" },
          { name: "protocol.ts", path: "/src/mesh/protocol.ts", type: "file" },
        ],
      },
      { name: "index.ts", path: "/src/index.ts", type: "file" },
      { name: "config.ts", path: "/src/config.ts", type: "file" },
    ],
  },
  {
    name: "core",
    path: "/core",
    type: "directory",
    children: [
      { name: "selfloop.ts", path: "/core/selfloop.ts", type: "file" },
      { name: "missions.ts", path: "/core/missions.ts", type: "file" },
    ],
  },
  { name: "package.json", path: "/package.json", type: "file" },
  { name: "tsconfig.json", path: "/tsconfig.json", type: "file" },
];

export const mockServices: Service[] = [
  {
    name: "Core API",
    port: 7007,
    status: "up",
    uptime: "4h 23m",
    lastCheck: "2025-12-11T14:22:00Z",
  },
  {
    name: "Mesh Listener",
    port: 9001,
    status: "up",
    uptime: "4h 23m",
    lastCheck: "2025-12-11T14:22:00Z",
  },
  {
    name: "Trader Engine",
    port: 8080,
    status: "degraded",
    uptime: "2h 15m",
    lastCheck: "2025-12-11T14:21:00Z",
  },
  {
    name: "Relay Inbound",
    port: 9100,
    status: "up",
    uptime: "4h 23m",
    lastCheck: "2025-12-11T14:22:00Z",
  },
  {
    name: "Relay Outbound",
    port: 9101,
    status: "up",
    uptime: "4h 23m",
    lastCheck: "2025-12-11T14:22:00Z",
  },
  {
    name: "GGUF Worker",
    port: 8888,
    status: "down",
    uptime: "0h 0m",
    lastCheck: "2025-12-11T14:22:00Z",
  },
];

export const mockMetrics: SystemMetrics = {
  cpu: 42,
  memory: 68,
  queueLength: 5,
  errorRate: 2.3,
};

export const mockNotifications: Notification[] = [
  {
    id: "n1",
    type: "error",
    category: "worker",
    title: "GGUF Worker Crashed",
    message: "Worker process exited with code 1. Model file not found.",
    timestamp: "2025-12-11T14:15:00Z",
    read: false,
  },
  {
    id: "n2",
    type: "warning",
    category: "mesh",
    title: "Node Offline",
    message: "worker-02 has not responded in 120 seconds.",
    timestamp: "2025-12-11T13:45:00Z",
    read: false,
  },
  {
    id: "n3",
    type: "info",
    category: "trader",
    title: "Position Opened",
    message: "Long BTC/USD at $42,150 - size 0.5 BTC",
    timestamp: "2025-12-11T12:30:00Z",
    read: true,
  },
  {
    id: "n4",
    type: "warning",
    category: "trader",
    title: "Drawdown Alert",
    message: "Portfolio drawdown reached 8.2% - approaching limit",
    timestamp: "2025-12-11T11:20:00Z",
    read: true,
  },
  {
    id: "n5",
    type: "success",
    category: "mission",
    title: "Mission Completed",
    message: "Trader Strategy Backtest finished successfully",
    timestamp: "2025-12-11T02:45:00Z",
    read: true,
  },
  {
    id: "n6",
    type: "error",
    category: "api",
    title: "API Error Rate High",
    message: "Core API error rate exceeded 5% threshold",
    timestamp: "2025-12-11T10:15:00Z",
    read: false,
  },
];

export const mockLogs: LogEntry[] = [
  {
    id: "l1",
    timestamp: "2025-12-11T14:22:35Z",
    level: "info",
    source: "selfloop",
    message: "Mission m1 job j1 started: Core-Builder",
  },
  {
    id: "l2",
    timestamp: "2025-12-11T14:22:10Z",
    level: "info",
    source: "mesh",
    message: "Node discovery heartbeat sent to 192.168.1.255:9001",
  },
  {
    id: "l3",
    timestamp: "2025-12-11T14:21:58Z",
    level: "warn",
    source: "trader",
    message: "Slippage detected on BTC/USD: 0.12%",
  },
  {
    id: "l4",
    timestamp: "2025-12-11T14:21:45Z",
    level: "error",
    source: "relay",
    message: "Failed to connect to outbound relay: Connection refused",
  },
  {
    id: "l5",
    timestamp: "2025-12-11T14:21:30Z",
    level: "info",
    source: "core",
    message: "Health check passed - all services nominal",
  },
  {
    id: "l6",
    timestamp: "2025-12-11T14:21:15Z",
    level: "debug",
    source: "selfloop",
    message: "Mission queue processed: 3 pending, 2 running, 8 completed",
  },
  {
    id: "l7",
    timestamp: "2025-12-11T14:21:00Z",
    level: "info",
    source: "mesh",
    message: "Node sheratan-core role assigned: coordinator",
  },
  {
    id: "l8",
    timestamp: "2025-12-11T14:20:42Z",
    level: "error",
    source: "selfloop",
    message: "GGUF Worker failed to load model: llama-3.2-1b.gguf not found",
  },
];

export const mockModelInfo: ModelInfo = {
  name: "llama-3-8b-instruct",
  type: "gguf",
  tokensUsed: 156834,
  tokensPerSecond: 42,
  temperature: 0.7,
  contextSize: 8192,
  systemPrompt: "You are Sheratan, an autonomous development assistant. Your role is to analyze, build, and optimize code across the mesh network.",
  routing: "local-gguf-primary",
};

export const mockSystemStatus: SystemStatus = {
  selfloopState: "running",
  activeModel: "llama-3-8b-instruct",
  meshNodesOnline: 4,
  meshNodesTotal: 5,
  jobsInQueue: 5,
  unreadAlerts: 3,
};

export const mockServiceNodes: ServiceNode[] = [
  {
    id: "core-api",
    name: "Core API",
    type: "core",
    status: "active",
    dependencies: [],
  },
  {
    id: "missions-runner",
    name: "Missions Runner",
    type: "engine",
    status: "active",
    dependencies: ["core-api"],
  },
  {
    id: "selfloop-engine",
    name: "Selfloop Engine",
    type: "engine",
    status: "active",
    dependencies: ["missions-runner", "core-api"],
  },
  {
    id: "rewrite-engine",
    name: "Rewrite Engine",
    type: "worker",
    status: "active",
    dependencies: ["selfloop-engine"],
  },
  {
    id: "mesh-node-engine",
    name: "Mesh Node Engine",
    type: "engine",
    status: "active",
    dependencies: ["core-api"],
  },
  {
    id: "trader-engine",
    name: "Trader Engine",
    type: "engine",
    status: "active",
    dependencies: ["mesh-node-engine"],
  },
  {
    id: "relay-inbound",
    name: "Relay Inbound",
    type: "relay",
    status: "active",
    dependencies: ["core-api"],
  },
  {
    id: "relay-outbound",
    name: "Relay Outbound",
    type: "relay",
    status: "active",
    dependencies: ["relay-inbound"],
  },
  {
    id: "gguf-worker",
    name: "GGUF Worker",
    type: "worker",
    status: "error",
    dependencies: ["selfloop-engine"],
  },
];
